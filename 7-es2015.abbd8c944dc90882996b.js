(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"eB/O":function(t,n,e){"use strict";e.r(n);var l=e("8Y7J");class o{constructor(t){this.matIconRegistry=t,console.log("CamModule::constructor")}}var i=e("pMnS");class c{constructor(){console.log("CamComponent::constructor")}ngOnInit(){this.camView=document.querySelector("#cam--view"),this.camOutput=document.querySelector("#cam--output"),this.camSensor=document.querySelector("#cam--sensor"),this.camTrigger=document.querySelector("#cam--trigger"),this.camStart()}ngOnDestroy(){this.camStop()}camStart(){let t;navigator.mediaDevices.enumerateDevices().then(n=>{n=n.filter(t=>"videoinput"===t.kind),console.log(n),t=n[0].deviceId}),navigator.mediaDevices.getUserMedia({video:{width:{min:1280},height:{min:720}}}).then(t=>{this.stream=t,this.camView.srcObject=t}).catch(t=>{console.log(t.message)}),this.camTrigger.onclick=()=>{this.camSensor.width=this.camView.videoWidth,this.camSensor.height=this.camView.videoHeight,this.camSensor.getContext("2d").drawImage(this.camView,0,0),this.camOutput.src=this.camSensor.toDataURL("image/webp"),this.camOutput.classList.add("taken")}}camStop(){this.stream.getVideoTracks().forEach(t=>t.stop()),this.camView.srcObject=null}}var a=l.pb({encapsulation:0,styles:[["#cam[_ngcontent-%COMP%], #cam--output[_ngcontent-%COMP%], #cam--sensor[_ngcontent-%COMP%], #cam--view[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;-o-object-fit:cover;object-fit:cover}#cam--output[_ngcontent-%COMP%], #cam--sensor[_ngcontent-%COMP%], #cam--view[_ngcontent-%COMP%]{transform:scaleX(-1);-webkit-filter:FlipH;filter:FlipH}#cam--trigger[_ngcontent-%COMP%]{position:fixed;bottom:80px;left:calc(50% - 40px);width:80px;height:80px;border-radius:90px;background:#bff;border:5px solid #4cf}.taken[_ngcontent-%COMP%]{height:100px!important;width:100px!important;transition:all .5s ease-in;border:3px solid #fff;box-shadow:0 5px 10px 0 rgba(0,0,0,.2);top:20px;right:20px;z-index:2}"]],data:{}});function r(t){return l.Ib(0,[(t()(),l.rb(0,0,null,null,4,"main",[["id","cam"]],null,null,null,null,null)),(t()(),l.rb(1,0,null,null,0,"canvas",[["id","cam--sensor"]],null,null,null,null,null)),(t()(),l.rb(2,0,null,null,0,"video",[["autoplay",""],["id","cam--view"],["playsinline",""]],null,null,null,null,null)),(t()(),l.rb(3,0,null,null,0,"img",[["alt",""],["id","cam--output"],["src","//:0"]],null,null,null,null,null)),(t()(),l.rb(4,0,null,null,0,"button",[["id","cam--trigger"]],null,null,null,null,null))],null,null)}function u(t){return l.Ib(0,[(t()(),l.rb(0,0,null,null,1,"app-cam",[],null,null,null,r,a)),l.qb(1,245760,null,0,c,[],null,null)],function(t,n){t(n,1,0)},null)}var s=l.nb("app-cam",c,u,{},{},[]),m=e("SVse"),d=e("iInd");class p{constructor(){console.log("CamRoutingModule::constructor")}}var g=e("Gi4r");e.d(n,"CamModuleNgFactory",function(){return h});var h=l.ob(o,[],function(t){return l.zb([l.Ab(512,l.j,l.Z,[[8,[i.a,s]],[3,l.j],l.v]),l.Ab(4608,m.j,m.i,[l.s,[2,m.t]]),l.Ab(1073742336,m.b,m.b,[]),l.Ab(1073742336,d.l,d.l,[[2,d.q],[2,d.k]]),l.Ab(1073742336,p,p,[]),l.Ab(1073742336,o,o,[g.b]),l.Ab(1024,d.i,function(){return[[{path:"",component:c}]]},[])])})}}]);