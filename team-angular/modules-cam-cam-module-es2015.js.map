{"version":3,"sources":["./src/app/modules/cam/cam.component.html","./src/app/modules/cam/cam-routing.module.ts","./src/app/modules/cam/cam.component.css","./src/app/modules/cam/cam.component.ts","./src/app/modules/cam/cam.module.ts"],"names":[],"mappings":"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","file":"modules-cam-cam-module-es2015.js","sourcesContent":["export default \"<!-- Camera -->\\n<main id=\\\"cam\\\">\\n    <!-- Camera sensor -->\\n    <canvas id=\\\"cam--sensor\\\"></canvas>\\n    <!-- Camera view -->\\n    <video id=\\\"cam--view\\\" autoplay playsinline></video>\\n    <!-- Camera output -->\\n    <img src=\\\"//:0\\\" alt=\\\"\\\" id=\\\"cam--output\\\">\\n    <!-- Camera trigger -->\\n    <button id=\\\"cam--trigger\\\"></button>\\n</main>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CamComponent } from \"./cam.component\";\n\nconst routes: Routes = [\n    {\n        path: \"\",\n        component: CamComponent\n    }\n]\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule],\n    providers: []\n})\nexport class CamRoutingModule {\n    constructor() {\n        console.log(\"CamRoutingModule::constructor\");\n    }\n}\n","export default \"#cam, #cam--view, #cam--sensor, #cam--output{\\n  position: fixed;\\n  height: 100%;\\n  width: 100%;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n\\n#cam--view, #cam--sensor, #cam--output{\\n  -webkit-transform: scaleX(-1);\\n          transform: scaleX(-1);\\n  -webkit-filter: FlipH;\\n          filter: FlipH;\\n}\\n\\n#cam--trigger{\\n  position: fixed;\\n  bottom: 80px;\\n  left: calc(50% - 40px);\\n  width: 80px;\\n  height: 80px;\\n  border-radius: 90px;\\n  background:  #bff;\\n  border: 5px solid #4cf;\\n}\\n\\n.taken{\\n  height: 100px!important;\\n  width: 100px!important;\\n  -webkit-transition: all 0.5s ease-in;\\n  transition: all 0.5s ease-in;\\n  border: solid 3px white;\\n  box-shadow: 0 5px 10px 0 rgba(0,0,0,0.2);\\n  top: 20px;\\n  right: 20px;\\n  z-index: 2;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9jYW0vY2FtLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFlO0VBQ2YsWUFBWTtFQUNaLFdBQVc7RUFDWCxvQkFBaUI7S0FBakIsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsNkJBQXFCO1VBQXJCLHFCQUFxQjtFQUNyQixxQkFBYTtVQUFiLGFBQWE7QUFDZjs7QUFFQTtFQUNFLGVBQWU7RUFDZixZQUFZO0VBQ1osc0JBQXNCO0VBQ3RCLFdBQVc7RUFDWCxZQUFZO0VBQ1osbUJBQW1CO0VBQ25CLGlCQUFpQjtFQUNqQixzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSx1QkFBdUI7RUFDdkIsc0JBQXNCO0VBQ3RCLG9DQUE0QjtFQUE1Qiw0QkFBNEI7RUFDNUIsdUJBQXVCO0VBQ3ZCLHdDQUF3QztFQUN4QyxTQUFTO0VBQ1QsV0FBVztFQUNYLFVBQVU7QUFDWiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY2FtL2NhbS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NhbSwgI2NhbS0tdmlldywgI2NhbS0tc2Vuc29yLCAjY2FtLS1vdXRwdXR7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMTAwJTtcbiAgb2JqZWN0LWZpdDogY292ZXI7XG59XG5cbiNjYW0tLXZpZXcsICNjYW0tLXNlbnNvciwgI2NhbS0tb3V0cHV0e1xuICB0cmFuc2Zvcm06IHNjYWxlWCgtMSk7XG4gIGZpbHRlcjogRmxpcEg7XG59XG5cbiNjYW0tLXRyaWdnZXJ7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgYm90dG9tOiA4MHB4O1xuICBsZWZ0OiBjYWxjKDUwJSAtIDQwcHgpO1xuICB3aWR0aDogODBweDtcbiAgaGVpZ2h0OiA4MHB4O1xuICBib3JkZXItcmFkaXVzOiA5MHB4O1xuICBiYWNrZ3JvdW5kOiAgI2JmZjtcbiAgYm9yZGVyOiA1cHggc29saWQgIzRjZjtcbn1cblxuLnRha2Vue1xuICBoZWlnaHQ6IDEwMHB4IWltcG9ydGFudDtcbiAgd2lkdGg6IDEwMHB4IWltcG9ydGFudDtcbiAgdHJhbnNpdGlvbjogYWxsIDAuNXMgZWFzZS1pbjtcbiAgYm9yZGVyOiBzb2xpZCAzcHggd2hpdGU7XG4gIGJveC1zaGFkb3c6IDAgNXB4IDEwcHggMCByZ2JhKDAsMCwwLDAuMik7XG4gIHRvcDogMjBweDtcbiAgcmlnaHQ6IDIwcHg7XG4gIHotaW5kZXg6IDI7XG59XG4iXX0= */\"","import { Component, OnInit, OnDestroy } from \"@angular/core\";\n\n@Component({\n  selector: \"app-cam\",\n  templateUrl: \"./cam.component.html\",\n  styleUrls: [\"./cam.component.css\"]\n})\nexport class CamComponent implements OnInit, OnDestroy {\n  stream: MediaStream;\n  camView: HTMLVideoElement;\n  camOutput: HTMLImageElement;\n  camSensor: HTMLCanvasElement;\n  camTrigger: HTMLButtonElement;\n\n  constructor() {\n    console.log(\"CamComponent::constructor\");\n  }\n\n  ngOnInit() {\n    this.camView = document.querySelector(\"#cam--view\");\n    this.camOutput = document.querySelector(\"#cam--output\");\n    this.camSensor = document.querySelector(\"#cam--sensor\");\n    this.camTrigger = document.querySelector(\"#cam--trigger\");\n\n    this.camStart();\n  }\n\n  ngOnDestroy(): void {\n    this.camStop();\n  }\n\n  camStart() {\n    let deviceId: string;\n\n    navigator.mediaDevices.enumerateDevices().then((devices: MediaDeviceInfo[]) => {\n      devices = devices.filter(d => d.kind === \"videoinput\");\n      console.log(devices);\n      deviceId = devices[0].deviceId;\n    });\n\n    // const constraints = { video: {deviceId}, audio: true };\n    const hdConstraints = { video: { width: { min: 1280 }, height: { min: 720 } } };\n\n    navigator.mediaDevices\n      .getUserMedia(hdConstraints)\n      .then((stream: MediaStream) => {\n        this.stream = stream;\n        this.camView.srcObject = stream;\n      })\n      .catch(error => {\n        console.log(error.message);\n      });\n\n    this.camTrigger.onclick = () => {\n      this.camSensor.width = this.camView.videoWidth;\n      this.camSensor.height = this.camView.videoHeight;\n      this.camSensor.getContext(\"2d\").drawImage(this.camView, 0, 0);\n      this.camOutput.src = this.camSensor.toDataURL(\"image/webp\");\n      this.camOutput.classList.add(\"taken\");\n    };\n  }\n\n  camStop() {\n    this.stream.getVideoTracks().forEach(track => track.stop());\n    this.camView.srcObject = null;\n  }\n}\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from '@angular/common';\n\nimport { MatIconRegistry } from \"@angular/material/icon\";\n\nimport { CamRoutingModule } from './cam-routing.module';\nimport { CamComponent } from \"./cam.component\";\n\n@NgModule({\n  declarations: [CamComponent],\n  imports: [CommonModule, CamRoutingModule]\n})\nexport class CamModule {\n  constructor(private matIconRegistry: MatIconRegistry) {\n    console.log(\"CamModule::constructor\");\n  }\n}\n"],"sourceRoot":"webpack:///"}